[build-system]
requires = ["poetry-core>=1.1.12"]
build-backend = "poetry.core.masonry.api"

[tool.poetry]
name = "PyMRItools"
version = "2024.0.0"
description = "Toolbox for all things MRI with python. Sequence Programming, Reconstruction, Simulation, Analysis."
readme = "README.md"
license = "GPL-3.0-or-later"
#keywords = []
authors = [
  "Jochen Schmidt <jochen.schmidt@tuta.io>",
]
maintainers = [
  "Jochen Schmidt <jochen.schmidt@tuta.io>",
  "Patrick Scheibe <patrick@halirutan.de>"
]
#classifiers = [
#  "Development Status :: 4 - Beta",
#  "Programming Language :: Python"
#]

[[tool.poetry.source]]
name = "torch"
url = "https://download.pytorch.org/whl/cu124"
priority = "explicit"

[tool.poetry.dependencies]
python = "^3.10"
torch = {version = "2.4.1", source = "torch"}
polars = "1.8.2"
kaleido = "0.1.0"
scipy = "1.14.1"
numpy = "2.0.0"
plotly = "5.16.1"
simple-parsing = "0.1.6"
tqdm = "4.66.5"
nibabel = "5.2.1"
wandb = "0.18.2"
autodmri = "0.2.7"

# might want to give dev branch here!
# pypulseq = "1.4.2"
# twixtools = "1.0"

[tool.poetry.urls]
"Repository" = "https://github.com/schmidt-jo/PyMRItools"
"Bug Tracker" = "https://github.com/schmidt-jo/PyMRItools"

[tool.poetry.scripts]
# simulations
simulation_emc_megesse_asym = "pymritools.simulation.emc.sequence.megesse_asym:main"
simulation_emc_megesse_sym = "pymritools.simulation.emc.sequence.megesse_sym:main"
simulation_emc_mese = "pymritools.simulation.emc.sequence.mese:main"
# processing scripts
processing_unring = "pymritools.processing.unringing.gibbs_unr:main"
processing_denoise_mppca = "pymritools.processing.denoising.mppca.denoise:main"
processing_denoise_mpk = "pymritools.processing.denoising.mppca_k_filter.denoise:main"
processing_denoise_klc = "pymritools.processing.denoising.klc_pca.denoise:main"
# modeling scripts
modeling_mono_exponential_fit = "pymritools.modeling.decay.mexp:main"
modeling_dictionary_grid_search = "pymritools.modeling.dictionary.grid_search:main"
modeling_dictionary_grid_search_channels = "pymritools.modeling.dictionary.grid_search_channels:main"
modeling_b1_afi = "pymritools.modeling.b1_afi.modeling:main"
# sequence programing
seqprog_mese = "pymritools.seqprog.sequences.mese:main"
seqprog_megesse_sym = "pymritools.seqprog.sequences.megesse_sym:main"
seqprog_megesse_asym = "pymritools.seqprog.sequences.megesse_asym:main"
seqprog_raw_data_pulseq = "pymritools.seqprog.rawdata.rd_read:pulseq"
seqprog_raw_data_siemens = "pymritools.seqprog.rawdata.rd_read:siemens"
utils_remove_oversampling = "pymritools.seqprog.rawdata.utils:rmos"
utils_root_sum_of_squares = "pymritools.seqprog.rawdata.utils:recon_naive_rsos"
# reconstruction
recon_loraks = "pymritools.recon.loraks.recon:loraks_from_cli"
